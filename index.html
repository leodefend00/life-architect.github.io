<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeArchitect - Dark Mode</title>
    
    <!-- 1. Cargamos React y ReactDOM desde Internet -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 2. Cargamos Babel para que el navegador entienda JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 3. Cargamos Tailwind CSS para el dise√±o oscuro -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configuraci√≥n de Tailwind para colores personalizados -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        zinc: { 850: '#1f1f22', 950: '#09090b' }
                    }
                }
            }
        }
    </script>

    <style>
        /* Estilos base para scrollbar oscura */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #09090b; }
        ::-webkit-scrollbar-thumb { background: #27272a; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #3f3f46; }
        body { background-color: #000; color: #e4e4e7; }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- AQU√ç COMIENZA EL C√ìDIGO REACT -->
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONOS SVG (Incrustados para no depender de librer√≠as) ---
        const Icons = {
            Layout: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></svg>,
            TrendingUp: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
            ListTodo: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="5" width="6" height="6" rx="1"/><path d="m3 17 2 2 4-4"/><path d="M13 6h8"/><path d="M13 12h8"/><path d="M13 18h8"/></svg>,
            Target: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
            Timer: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="10" x2="14" y1="2" y2="2"/><line x1="12" x2="15" y1="14" y2="11"/><circle cx="12" cy="14" r="8"/></svg>,
            BookOpen: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            Plus: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>,
            Trash2: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 18 18"/></svg>,
            CheckCircle2: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>,
            Circle: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/></svg>,
            Flame: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.1.243-2.143.5-3z"/></svg>,
            Activity: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
            Play: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>,
            Pause: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="4" height="16" x="6" y="4"/><rect width="4" height="16" x="14" y="4"/></svg>,
            RotateCcw: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>,
            Trophy: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2h-6c-2 0-3 1-3 3v5.33c0 2.18 1.6 4.02 3.73 4.48a4 4 0 0 0 4.54 0c2.13-.46 3.73-2.3 3.73-4.48V5c0-2-1-3-3-3z"/></svg>,
            ShieldAlert: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>,
            Smile: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" x2="9.01" y1="9" y2="9"/><line x1="15" x2="15.01" y1="9" y2="9"/></svg>
        };

        // --- UTILIDADES ---
        const getTodayStr = () => new Date().toISOString().split('T')[0];
        const generateId = () => Math.random().toString(36).substr(2, 9);
        const getDaysDiff = (dateStr) => {
            if(!dateStr) return 0;
            const start = new Date(dateStr);
            const now = new Date();
            const diffTime = Math.abs(now - start);
            return Math.floor(diffTime / (1000 * 60 * 60 * 24));
        };

        // --- GESTOR DE DATOS (LOCALSTORAGE) ---
        const useData = (key, initialValue) => {
            const [data, setData] = useState(() => {
                const saved = localStorage.getItem(`lifearchitect_${key}`);
                return saved ? JSON.parse(saved) : initialValue;
            });

            useEffect(() => {
                localStorage.setItem(`lifearchitect_${key}`, JSON.stringify(data));
            }, [data, key]);

            return [data, setData];
        };

        // --- COMPONENTE PRINCIPAL ---
        function LifeArchitect() {
            // Estados persistentes
            const [habits, setHabits] = useData('habits', []);
            const [tasks, setTasks] = useData('tasks', []);
            const [goals, setGoals] = useData('goals', []);
            const [moods, setMoods] = useData('moods', []);
            const [stats, setStats] = useData('stats', { xp: 0, level: 1 });
            
            // Estado de UI
            const [activeTab, setActiveTab] = useState('dashboard');
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [modalType, setModalType] = useState(null);
            const [newItemData, setNewItemData] = useState({});
            
            // Focus Mode
            const [focusTime, setFocusTime] = useState(25 * 60);
            const [isFocusActive, setIsFocusActive] = useState(false);
            const focusInterval = useRef(null);

            // --- L√ìGICA DE NEGOCIO ---
            const addXP = (amount) => {
                setStats(prev => {
                    const newXP = prev.xp + amount;
                    const newLevel = Math.floor(newXP / 100) + 1;
                    if(newLevel > prev.level) alert(`¬°Nivel Subido! Ahora eres nivel ${newLevel}`);
                    return { xp: newXP, level: newLevel };
                });
            };

            const handleCreate = (e) => {
                e.preventDefault();
                const id = generateId();
                const now = new Date().toISOString();

                if (modalType === 'habit') {
                    const isBad = newItemData.type === 'bad';
                    setHabits([...habits, {
                        id,
                        title: newItemData.title,
                        type: newItemData.type || 'good',
                        category: isBad ? 'bad' : 'general',
                        completedDates: [],
                        lastRelapse: isBad ? now : null,
                        streak: 0,
                        createdAt: now
                    }]);
                } else if (modalType === 'task') {
                    setTasks([...tasks, { id, title: newItemData.title, completed: false, createdAt: now }]);
                } else if (modalType === 'goal') {
                    setGoals([...goals, { id, title: newItemData.title, progress: 0, createdAt: now }]);
                } else if (modalType === 'mood') {
                    setMoods([...moods, { id, rating: newItemData.rating || 3, note: newItemData.note, createdAt: now }]);
                    addXP(5);
                }
                setIsModalOpen(false);
                setNewItemData({});
            };

            const toggleHabit = (id) => {
                const today = getTodayStr();
                setHabits(habits.map(h => {
                    if (h.id !== id) return h;
                    
                    if (h.type === 'bad') {
                        if(!confirm("¬øRegistrar reca√≠da?")) return h;
                        return { ...h, lastRelapse: new Date().toISOString(), streak: 0 };
                    } else {
                        const isDone = h.completedDates.includes(today);
                        let newDates = isDone ? h.completedDates.filter(d => d !== today) : [...h.completedDates, today];
                        let newStreak = isDone ? Math.max(0, h.streak - 1) : h.streak + 1;
                        if(!isDone) addXP(10);
                        return { ...h, completedDates: newDates, streak: newStreak };
                    }
                }));
            };

            const toggleTask = (id) => {
                setTasks(tasks.map(t => {
                    if (t.id !== id) return t;
                    const newStatus = !t.completed;
                    if(newStatus) addXP(20);
                    return { ...t, completed: newStatus };
                }));
            };

            const deleteItem = (type, id) => {
                if(!confirm("¬øBorrar?")) return;
                if(type === 'habits') setHabits(habits.filter(h => h.id !== id));
                if(type === 'tasks') setTasks(tasks.filter(t => t.id !== id));
                if(type === 'goals') setGoals(goals.filter(g => g.id !== id));
            };

            // Focus Timer Effect
            useEffect(() => {
                if (isFocusActive && focusTime > 0) {
                    focusInterval.current = setInterval(() => setFocusTime(t => t - 1), 1000);
                } else if (focusTime === 0 && isFocusActive) {
                    setIsFocusActive(false);
                    clearInterval(focusInterval.current);
                    alert("¬°Tiempo terminado!");
                    addXP(50);
                }
                return () => clearInterval(focusInterval.current);
            }, [isFocusActive, focusTime]);

            const formatTime = (seconds) => {
                const m = Math.floor(seconds / 60);
                const s = seconds % 60;
                return `${m}:${s < 10 ? '0' : ''}${s}`;
            };

            // --- VISTAS ---
            const renderDashboard = () => (
                <div className="space-y-6 animate-fade-in">
                    <div className="bg-gradient-to-br from-indigo-900 to-purple-900 p-6 rounded-2xl text-white border border-white/10 shadow-xl">
                        <div className="flex justify-between items-start">
                            <div>
                                <h2 className="text-2xl font-bold">Nivel {stats.level}</h2>
                                <p className="text-indigo-200 flex items-center gap-2 mt-1"><Icons.Trophy /> {stats.xp} XP</p>
                            </div>
                        </div>
                        <div className="mt-4 bg-black/30 h-3 rounded-full overflow-hidden">
                            <div className="bg-yellow-400 h-full transition-all duration-1000" style={{width: `${stats.xp % 100}%`}}></div>
                        </div>
                        <p className="text-xs text-right mt-1 text-indigo-300">Pr√≥ximo nivel en {100 - (stats.xp % 100)} XP</p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {habits.slice(0, 4).map(habit => {
                            const isBad = habit.type === 'bad';
                            const today = getTodayStr();
                            const isDone = !isBad && habit.completedDates.includes(today);
                            
                            return (
                                <div key={habit.id} className={`p-4 rounded-xl border flex justify-between items-center ${isBad ? 'bg-red-900/10 border-red-900/30' : 'bg-zinc-900 border-zinc-800'}`}>
                                    <div className="flex items-center gap-3">
                                        <button onClick={() => toggleHabit(habit.id)} className={`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${isDone ? 'bg-emerald-600 text-white' : isBad ? 'bg-red-900/20 text-red-500 border border-red-900' : 'bg-zinc-800 text-zinc-500'}`}>
                                            {isBad ? <Icons.ShieldAlert /> : (isDone ? <Icons.CheckCircle2 /> : <Icons.Circle />)}
                                        </button>
                                        <div>
                                            <p className="font-semibold">{habit.title}</p>
                                            <p className="text-xs text-zinc-500">
                                                {isBad ? `${getDaysDiff(habit.lastRelapse)} d√≠as limpio` : `Racha: ${habit.streak}`}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );

            // --- NAVEGACI√ìN ---
            const NavButton = ({ id, label, icon: Icon }) => (
                <button onClick={() => setActiveTab(id)} className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${activeTab === id ? 'bg-white/10 text-indigo-400' : 'text-zinc-500 hover:text-zinc-300'}`}>
                    <Icon /> {label}
                </button>
            );

            return (
                <div className="flex h-screen overflow-hidden">
                    {/* Sidebar */}
                    <aside className="hidden md:flex flex-col w-64 bg-zinc-950 border-r border-zinc-800 p-4">
                        <div className="flex items-center gap-2 text-indigo-500 px-4 py-4 mb-4">
                            <Icons.Activity />
                            <span className="font-bold text-xl text-white">LifeArchitect</span>
                        </div>
                        <nav className="space-y-1">
                            <NavButton id="dashboard" label="Resumen" icon={Icons.Layout} />
                            <NavButton id="habits" label="H√°bitos" icon={Icons.TrendingUp} />
                            <NavButton id="focus" label="Enfoque" icon={Icons.Timer} />
                            <NavButton id="planner" label="Agenda" icon={Icons.ListTodo} />
                            <NavButton id="journal" label="Diario" icon={Icons.BookOpen} />
                        </nav>
                    </aside>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col h-full bg-black text-zinc-200 relative">
                        <div className="flex-1 overflow-y-auto p-4 md:p-8 max-w-4xl mx-auto w-full">
                            {/* Mobile Header */}
                            <div className="md:hidden flex justify-between items-center mb-6">
                                <span className="font-bold text-indigo-500 flex gap-2"><Icons.Activity /> LifeArchitect</span>
                            </div>

                            {activeTab === 'dashboard' && renderDashboard()}

                            {activeTab === 'habits' && (
                                <div className="space-y-4">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-2xl font-bold">H√°bitos</h2>
                                        <button onClick={() => { setModalType('habit'); setIsModalOpen(true); }} className="bg-indigo-600 px-4 py-2 rounded-lg text-white text-sm hover:bg-indigo-500 flex items-center gap-2"><Icons.Plus /> Nuevo</button>
                                    </div>
                                    <div className="grid gap-3">
                                        {habits.map(h => (
                                            <div key={h.id} className="p-4 bg-zinc-900 border border-zinc-800 rounded-xl flex justify-between items-center">
                                                <div className="flex items-center gap-3">
                                                     <button onClick={() => toggleHabit(h.id)} className={`p-2 rounded-lg ${h.type === 'bad' ? 'text-red-500' : (h.completedDates.includes(getTodayStr()) ? 'text-emerald-500' : 'text-zinc-600')}`}>
                                                        {h.type === 'bad' ? <Icons.ShieldAlert /> : <Icons.CheckCircle2 />}
                                                     </button>
                                                     <span>{h.title}</span>
                                                </div>
                                                <button onClick={() => deleteItem('habits', h.id)} className="text-zinc-600 hover:text-red-500"><Icons.Trash2 /></button>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                            
                             {activeTab === 'planner' && (
                                <div className="space-y-4">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-2xl font-bold">Agenda</h2>
                                        <button onClick={() => { setModalType('task'); setIsModalOpen(true); }} className="bg-indigo-600 px-4 py-2 rounded-lg text-white text-sm hover:bg-indigo-500 flex items-center gap-2"><Icons.Plus /> Nueva Tarea</button>
                                    </div>
                                    {tasks.filter(t => !t.completed).map(t => (
                                        <div key={t.id} className="p-4 bg-zinc-900 border border-zinc-800 rounded-xl flex justify-between">
                                            <div className="flex items-center gap-3">
                                                <button onClick={() => toggleTask(t.id)} className="text-zinc-600 hover:text-indigo-500"><Icons.Circle /></button>
                                                <span>{t.title}</span>
                                            </div>
                                            <button onClick={() => deleteItem('tasks', t.id)}><Icons.Trash2 className="text-zinc-600 hover:text-red-500" /></button>
                                        </div>
                                    ))}
                                </div>
                            )}

                            {activeTab === 'focus' && (
                                <div className="flex flex-col items-center justify-center h-full space-y-8">
                                    <div className={`w-64 h-64 rounded-full border-8 flex items-center justify-center text-5xl font-bold font-mono transition-all ${isFocusActive ? 'border-indigo-500 text-indigo-400 shadow-[0_0_50px_rgba(99,102,241,0.3)]' : 'border-zinc-800 text-zinc-600'}`}>
                                        {formatTime(focusTime)}
                                    </div>
                                    <div className="flex gap-4">
                                        <button onClick={() => setIsFocusActive(!isFocusActive)} className="px-8 py-3 bg-indigo-600 rounded-xl text-white font-bold hover:bg-indigo-500">
                                            {isFocusActive ? 'Pausar' : 'Iniciar'}
                                        </button>
                                        <button onClick={() => { setIsFocusActive(false); setFocusTime(25*60); }} className="px-4 py-3 bg-zinc-800 rounded-xl text-zinc-400 hover:bg-zinc-700">
                                            Reiniciar
                                        </button>
                                    </div>
                                </div>
                            )}

                             {activeTab === 'journal' && (
                                <div className="space-y-4">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-2xl font-bold">Diario</h2>
                                        <button onClick={() => { setModalType('mood'); setIsModalOpen(true); }} className="bg-indigo-600 px-4 py-2 rounded-lg text-white text-sm"><Icons.Plus /></button>
                                    </div>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        {moods.map(m => (
                                            <div key={m.id} className="p-4 bg-zinc-900 border border-zinc-800 rounded-xl">
                                                <div className="flex justify-between mb-2">
                                                    <span className="text-2xl">{{1: 'üò°', 2: 'üòê', 3: 'üôÇ', 4: 'üòÉ', 5: 'ü§©'}[m.rating]}</span>
                                                    <span className="text-xs text-zinc-500">{new Date(m.createdAt).toLocaleDateString()}</span>
                                                </div>
                                                <p className="text-sm text-zinc-400 italic">"{m.note}"</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>

                        {/* Mobile Nav */}
                        <div className="md:hidden border-t border-zinc-800 p-2 flex justify-around bg-zinc-950">
                            <button onClick={() => setActiveTab('dashboard')} className={`p-2 rounded ${activeTab==='dashboard'?'text-indigo-400 bg-white/5':'text-zinc-500'}`}><Icons.Layout /></button>
                            <button onClick={() => setActiveTab('habits')} className={`p-2 rounded ${activeTab==='habits'?'text-indigo-400 bg-white/5':'text-zinc-500'}`}><Icons.TrendingUp /></button>
                            <button onClick={() => setActiveTab('focus')} className={`p-2 rounded ${activeTab==='focus'?'text-indigo-400 bg-white/5':'text-zinc-500'}`}><Icons.Timer /></button>
                            <button onClick={() => setActiveTab('planner')} className={`p-2 rounded ${activeTab==='planner'?'text-indigo-400 bg-white/5':'text-zinc-500'}`}><Icons.ListTodo /></button>
                        </div>
                    </main>

                    {/* MODAL */}
                    {isModalOpen && (
                        <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50">
                            <div className="bg-zinc-900 border border-zinc-800 w-full max-w-md p-6 rounded-2xl shadow-2xl">
                                <h3 className="text-xl font-bold mb-4">Nuevo Elemento</h3>
                                <form onSubmit={handleCreate} className="space-y-4">
                                    {modalType === 'mood' ? (
                                        <>
                                            <div className="flex justify-between px-2 text-2xl">
                                                {[1,2,3,4,5].map(r => (
                                                    <button type="button" key={r} onClick={() => setNewItemData({...newItemData, rating: r})} className={`p-2 rounded-full ${newItemData.rating===r ? 'bg-white/10 scale-125' : ''}`}>
                                                        {{1: 'üò°', 2: 'üòê', 3: 'üôÇ', 4: 'üòÉ', 5: 'ü§©'}[r]}
                                                    </button>
                                                ))}
                                            </div>
                                            <input className="w-full bg-black border border-zinc-700 p-3 rounded-lg text-white" placeholder="Nota..." onChange={e => setNewItemData({...newItemData, note: e.target.value})} />
                                        </>
                                    ) : (
                                        <>
                                            <input autoFocus className="w-full bg-black border border-zinc-700 p-3 rounded-lg text-white focus:border-indigo-500 outline-none" placeholder="T√≠tulo..." value={newItemData.title || ''} onChange={e => setNewItemData({...newItemData, title: e.target.value})} />
                                            
                                            {modalType === 'habit' && (
                                                <div className="flex gap-4">
                                                    <label className="flex items-center gap-2 cursor-pointer bg-black p-3 rounded-lg border border-zinc-700 flex-1">
                                                        <input type="radio" name="type" value="good" checked={!newItemData.type || newItemData.type === 'good'} onChange={() => setNewItemData({...newItemData, type: 'good'})} /> Bueno
                                                    </label>
                                                    <label className="flex items-center gap-2 cursor-pointer bg-black p-3 rounded-lg border border-zinc-700 flex-1 text-red-400">
                                                        <input type="radio" name="type" value="bad" checked={newItemData.type === 'bad'} onChange={() => setNewItemData({...newItemData, type: 'bad'})} /> Malo
                                                    </label>
                                                </div>
                                            )}
                                        </>
                                    )}
                                    <div className="flex justify-end gap-3 pt-2">
                                        <button type="button" onClick={() => setIsModalOpen(false)} className="text-zinc-400 hover:text-white">Cancelar</button>
                                        <button type="submit" className="bg-indigo-600 px-4 py-2 rounded-lg text-white font-medium hover:bg-indigo-500">Guardar</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<LifeArchitect />);
    </script>
</body>
</html>